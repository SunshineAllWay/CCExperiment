""" Slovak-specific form helpers """ from __future__ import absolute_import from django . contrib . localflavor . sk . sk_districts import DISTRICT_CHOICES from django . contrib . localflavor . sk . sk_regions import REGION_CHOICES from django . forms . fields import Select , RegexField from django . utils . translation import ugettext_lazy as _ class SKRegionSelect ( Select ) : def __init__ ( self , attrs = None ) : super ( SKRegionSelect , self ) . __init__ ( attrs , choices = REGION_CHOICES ) class SKDistrictSelect ( Select ) : def __init__ ( self , attrs = None ) : super ( SKDistrictSelect , self ) . __init__ ( attrs , choices = DISTRICT_CHOICES ) class SKPostalCodeField ( RegexField ) : default_error_messages = { : _ ( u'Enter a postal code in the format XXXXX or XXX XX.' ) , } def __init__ ( self , max_length = None , min_length = None , * args , ** kwargs ) : super ( SKPostalCodeField , self ) . __init__ ( r'^\d{5}$|^\d{3} \d{2}$' , max_length , min_length , * args , ** kwargs ) def clean ( self , value ) : v = super ( SKPostalCodeField , self ) . clean ( value ) return v . replace ( ' ' , '' )

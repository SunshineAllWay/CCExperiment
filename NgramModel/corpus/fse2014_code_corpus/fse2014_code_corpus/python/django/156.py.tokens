from django . db import models class ScientistRef ( models . Model ) : name = models . CharField ( max_length = 50 ) class ArticleRef ( models . Model ) : title = models . CharField ( max_length = 50 , unique = True ) code = models . CharField ( max_length = 50 , unique = True ) authors = models . ManyToManyField ( ScientistRef , related_name = 'articles_written_set' ) reviewers = models . ManyToManyField ( ScientistRef , related_name = 'articles_reviewed_set' ) class Scientist ( models . Model ) : name = models . CharField ( max_length = 50 ) class Meta : db_table = 'tablespaces_scientistref' db_tablespace = 'tbl_tbsp' managed = False class Article ( models . Model ) : title = models . CharField ( max_length = 50 , unique = True ) code = models . CharField ( max_length = 50 , unique = True , db_tablespace = 'idx_tbsp' ) authors = models . ManyToManyField ( Scientist , related_name = 'articles_written_set' ) reviewers = models . ManyToManyField ( Scientist , related_name = 'articles_reviewed_set' , db_tablespace = 'idx_tbsp' ) class Meta : db_table = 'tablespaces_articleref' db_tablespace = 'tbl_tbsp' managed = False Authors = Article . _meta . get_field ( 'authors' ) . rel . through Authors . _meta . db_table = 'tablespaces_articleref_authors' Reviewers = Article . _meta . get_field ( 'reviewers' ) . rel . through Reviewers . _meta . db_table = 'tablespaces_articleref_reviewers'

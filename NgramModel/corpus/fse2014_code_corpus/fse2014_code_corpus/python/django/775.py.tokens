from django . contrib . contenttypes import generic from django . contrib . contenttypes . models import ContentType from django . db import models class Episode ( models . Model ) : name = models . CharField ( max_length = 100 ) length = models . CharField ( max_length = 100 , blank = True ) author = models . CharField ( max_length = 100 , blank = True ) class Media ( models . Model ) : content_type = models . ForeignKey ( ContentType ) object_id = models . PositiveIntegerField ( ) content_object = generic . GenericForeignKey ( ) url = models . URLField ( verify_exists = False ) description = models . CharField ( max_length = 100 , blank = True ) keywords = models . CharField ( max_length = 100 , blank = True ) def __unicode__ ( self ) : return self . url class EpisodeExtra ( Episode ) : pass class EpisodeMaxNum ( Episode ) : pass class Category ( models . Model ) : name = models . CharField ( max_length = 50 ) class PhoneNumber ( models . Model ) : content_type = models . ForeignKey ( ContentType ) object_id = models . PositiveIntegerField ( ) content_object = generic . GenericForeignKey ( 'content_type' , 'object_id' ) phone_number = models . CharField ( max_length = 30 ) category = models . ForeignKey ( Category , null = True , blank = True ) class Meta : unique_together = ( ( 'content_type' , 'object_id' , 'phone_number' , ) , ) class Contact ( models . Model ) : name = models . CharField ( max_length = 50 ) phone_numbers = generic . GenericRelation ( PhoneNumber ) class EpisodePermanent ( Episode ) : pass

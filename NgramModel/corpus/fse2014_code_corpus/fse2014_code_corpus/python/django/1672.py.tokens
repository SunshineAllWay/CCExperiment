from django . contrib . gis . geos . geometry import GEOSGeometry , wkt_regex , hex_regex def fromfile ( file_h ) : if isinstance ( file_h , basestring ) : file_h = open ( file_h , 'rb' ) buf = file_h . read ( ) if wkt_regex . match ( buf ) or hex_regex . match ( buf ) : return GEOSGeometry ( buf ) else : return GEOSGeometry ( buffer ( buf ) ) def fromstr ( string , ** kwargs ) : return GEOSGeometry ( string , ** kwargs )

""" Backend for test environment. """ from django . core import mail from django . core . mail . backends . base import BaseEmailBackend class EmailBackend ( BaseEmailBackend ) : def __init__ ( self , * args , ** kwargs ) : super ( EmailBackend , self ) . __init__ ( * args , ** kwargs ) if not hasattr ( mail , 'outbox' ) : mail . outbox = [ ] def send_messages ( self , messages ) : mail . outbox . extend ( messages ) return len ( messages )

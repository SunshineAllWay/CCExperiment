from __future__ import with_statement from django . contrib import admin from django . utils . unittest import TestCase class Bug8245Test ( TestCase ) : def test_bug_8245 ( self ) : with self . assertRaises ( Exception ) as cm : admin . autodiscover ( ) self . assertEqual ( str ( cm . exception ) , "Bad admin module" ) with self . assertRaises ( Exception ) as cm : admin . autodiscover ( )

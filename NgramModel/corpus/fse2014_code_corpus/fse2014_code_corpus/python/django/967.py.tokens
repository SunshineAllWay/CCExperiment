import re from django . conf import settings from django . conf . urls import patterns , url from django . core . exceptions import ImproperlyConfigured def static ( prefix , view = 'django.views.static.serve' , ** kwargs ) : if not settings . DEBUG or ( prefix and '://' in prefix ) : return [ ] elif not prefix : raise ImproperlyConfigured ( "Empty static prefix not permitted" ) return patterns ( '' , url ( r'^%s(?P<path>.*)$' % re . escape ( prefix . lstrip ( '/' ) ) , view , kwargs = kwargs ) , )

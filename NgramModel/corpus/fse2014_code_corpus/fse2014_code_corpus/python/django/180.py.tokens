from __future__ import absolute_import from django . test import TestCase from . models import Person class SaveDeleteHookTests ( TestCase ) : def test_basic ( self ) : p = Person ( first_name = "John" , last_name = "Smith" ) self . assertEqual ( p . data , [ ] ) p . save ( ) self . assertEqual ( p . data , [ , , ] ) self . assertQuerysetEqual ( Person . objects . all ( ) , [ , ] , unicode ) p . delete ( ) self . assertEqual ( p . data , [ , , , , ] ) self . assertQuerysetEqual ( Person . objects . all ( ) , [ ] )

from django . contrib . localflavor . be . forms import ( BEPostalCodeField , BEPhoneNumberField , BERegionSelect , BEProvinceSelect ) from django . test import SimpleTestCase class BELocalFlavorTests ( SimpleTestCase ) : def test_BEPostalCodeField ( self ) : error_format = [ u'Enter a valid postal code in the range and format 1XXX - 9XXX.' ] valid = { : '1451' , : '2540' , } invalid = { : error_format , : error_format , : error_format , : error_format , : error_format , } self . assertFieldOutput ( BEPostalCodeField , valid , invalid ) def test_BEPhoneNumberField ( self ) : error_format = [ ( 'Enter a valid phone number in one of the formats 0x xxx xx xx, ' ) ] valid = { : '01 234 56 78' , : '01/234.56.78' , : '01.234.56.78' , : '012 34 56 78' , : '012/34.56.78' , : '012.34.56.78' , : '0412 34 56 78' , : '0412/34.56.78' , : '0412.34.56.78' , : '012345678' , : '0412345678' , } invalid = { : error_format , : error_format , : error_format , : error_format , : error_format , : error_format , : error_format , : error_format , } self . assertFieldOutput ( BEPhoneNumberField , valid , invalid ) def test_BERegionSelect ( self ) : f = BERegionSelect ( ) out = u'''<select name="regions"> <option value="BRU">Brussels Capital Region</option> <option value="VLG" selected="selected">Flemish Region</option> <option value="WAL">Wallonia</option> </select>''' self . assertHTMLEqual ( f . render ( 'regions' , 'VLG' ) , out ) def test_BEProvinceSelect ( self ) : f = BEProvinceSelect ( ) out = u'''<select name="provinces"> <option value="VAN">Antwerp</option> <option value="BRU">Brussels</option> <option value="VOV">East Flanders</option> <option value="VBR">Flemish Brabant</option> <option value="WHT">Hainaut</option> <option value="WLG" selected="selected">Liege</option> <option value="VLI">Limburg</option> <option value="WLX">Luxembourg</option> <option value="WNA">Namur</option> <option value="WBR">Walloon Brabant</option> <option value="VWV">West Flanders</option> </select>''' self . assertHTMLEqual ( f . render ( 'provinces' , 'WLG' ) , out )

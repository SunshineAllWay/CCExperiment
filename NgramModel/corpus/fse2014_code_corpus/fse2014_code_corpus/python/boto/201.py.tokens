class HealthCheck ( object ) : def __init__ ( self , access_point = None , interval = 30 , target = None , healthy_threshold = 3 , timeout = 5 , unhealthy_threshold = 5 ) : self . access_point = access_point self . interval = interval self . target = target self . healthy_threshold = healthy_threshold self . timeout = timeout self . unhealthy_threshold = unhealthy_threshold def __repr__ ( self ) : return 'HealthCheck:%s' % self . target def startElement ( self , name , attrs , connection ) : return None def endElement ( self , name , value , connection ) : if name == 'Interval' : self . interval = int ( value ) elif name == 'Target' : self . target = value elif name == 'HealthyThreshold' : self . healthy_threshold = int ( value ) elif name == 'Timeout' : self . timeout = int ( value ) elif name == 'UnhealthyThreshold' : self . unhealthy_threshold = int ( value ) else : setattr ( self , name , value ) def update ( self ) : if not self . access_point : return new_hc = self . connection . configure_health_check ( self . access_point , self ) self . interval = new_hc . interval self . target = new_hc . target self . healthy_threshold = new_hc . healthy_threshold self . unhealthy_threshold = new_hc . unhealthy_threshold self . timeout = new_hc . timeout

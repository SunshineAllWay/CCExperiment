from Rpyc import * c = SocketConnection ( "localhost" ) rint = c . modules . __builtin__ . int rint = Async ( rint ) a = rint ( "123" ) b = rint ( "metallica" ) print a print b . is_ready print a . result print a try : print b . result except ValueError : pass def f ( res ) : print "the result is" , try : print res . result except : print "an exception" rint = Async ( c . modules . __builtin__ . int ) ar = rint ( "123" ) ar . on_ready = f ar = rint ( "a perfect circle" ) ar . on_ready = f rint ( "456" ) . on_ready = f ar = rint . __str__ print c . modules . sys xxx = 0 def blah ( ) : global xxx xxx += 1 c . modules . thread . start_new_thread ( c . modules [ "Rpyc.Demo.testmodule" ] . threadfunc , ( blah , ) ) import time time . sleep ( 5 ) print c . modules . sys print xxx

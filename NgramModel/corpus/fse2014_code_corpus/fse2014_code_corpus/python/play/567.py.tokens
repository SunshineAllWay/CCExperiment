from unittest import TestCase import simplejson as json JSONDOCS = [ , , , , , , , , , , , , , , , , , , , , , , , , , ] SKIPS = { 1 : "why not have a string payload?" , 18 : "spec doesn't specify any nesting limitations" , } class TestFail ( TestCase ) : def test_failures ( self ) : for idx , doc in enumerate ( JSONDOCS ) : idx = idx + 1 if idx in SKIPS : json . loads ( doc ) continue try : json . loads ( doc ) except ValueError : pass else : self . fail ( "Expected failure for fail%d.json: %r" % ( idx , doc ) )

"""functools.py - Tools for working with functions and callable objects """ from _functools import partial , reduce WRAPPER_ASSIGNMENTS = ( '__module__' , '__name__' , '__doc__' ) WRAPPER_UPDATES = ( '__dict__' , ) def update_wrapper ( wrapper , wrapped , assigned = WRAPPER_ASSIGNMENTS , updated = WRAPPER_UPDATES ) : for attr in assigned : setattr ( wrapper , attr , getattr ( wrapped , attr ) ) for attr in updated : getattr ( wrapper , attr ) . update ( getattr ( wrapped , attr , { } ) ) return wrapper def wraps ( wrapped , assigned = WRAPPER_ASSIGNMENTS , updated = WRAPPER_UPDATES ) : return partial ( update_wrapper , wrapped = wrapped , assigned = assigned , updated = updated )

""" functions for distributing package and modules across hosts """ import inspect from Files import upload_dir from Builtins import reload __all__ = [ "upload_package" , "update_module" ] def upload_package ( conn , module , remotepath = None ) : if remotepath is None : remotepath = conn . modules [ "distutils.sysconfig" ] . get_python_lib ( ) localpath = os . path . dirname ( module . __file__ ) upload_dir ( conn , localpath , remotepath , [ ".py" , ".pyd" , ".dll" , ".so" , ".zip" ] ) def update_module ( conn , module ) : remote_module = conn . modules [ module . __name__ ] local_file = inspect . getsourcefile ( module ) remote_file = inspect . getsourcefile ( remote_module ) upload_file ( conn , local_filem , remote_file )

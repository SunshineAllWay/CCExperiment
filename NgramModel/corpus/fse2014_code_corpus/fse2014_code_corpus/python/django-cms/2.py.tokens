from cms . apphook_pool import apphook_pool from cms . views import details from django . conf import settings from django . conf . urls . defaults import url , patterns if settings . APPEND_SLASH : reg = url ( r'^(?P<slug>[0-9A-Za-z-_.//]+)/$' , details , name = 'pages-details-by-slug' ) else : reg = url ( r'^(?P<slug>[0-9A-Za-z-_.//]+)$' , details , name = 'pages-details-by-slug' ) urlpatterns = [ url ( r'^$' , details , { 'slug' : '' } , name = 'pages-root' ) , reg , ] if apphook_pool . get_apphooks ( ) : from cms . appresolver import get_app_patterns urlpatterns = get_app_patterns ( ) + urlpatterns urlpatterns = patterns ( '' , * urlpatterns )

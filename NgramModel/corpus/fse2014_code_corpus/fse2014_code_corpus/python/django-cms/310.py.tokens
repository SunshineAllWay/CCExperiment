""" This is revision from 3058ab9d9d4875589638cc45e84b59e7e1d7c9c3 of https://github.com/ojii/django-load. ANY changes to this file, be it upstream fixes or changes for the cms *must* be documentet clearly within this file with comments. For documentation on how to use the functions described in this file, please refer to http://django-load.readthedocs.org/en/latest/index.html. """ from django . conf import settings from django . utils . importlib import import_module def get_module ( app , modname , verbose , failfast ) : module_name = '%s.%s' % ( app , modname ) try : module = import_module ( module_name ) except ImportError , e : if failfast : raise e elif verbose : print "Could not load %r from %r: %s" % ( modname , app , e ) return None if verbose : print "Loaded %r from %r" % ( modname , app ) return module def load ( modname , verbose = False , failfast = False ) : for app in settings . INSTALLED_APPS : get_module ( app , modname , verbose , failfast ) def iterload ( modname , verbose = False , failfast = False ) : for app in settings . INSTALLED_APPS : module = get_module ( app , modname , verbose , failfast ) if module : yield module def load_object ( import_path ) : if '.' not in import_path : raise TypeError ( ) module_name , object_name = import_path . rsplit ( '.' , 1 ) module = import_module ( module_name ) return getattr ( module , object_name ) def iterload_objects ( import_paths ) : for import_path in import_paths :

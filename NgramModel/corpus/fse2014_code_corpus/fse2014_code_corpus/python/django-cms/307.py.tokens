from django . conf import settings def get_default_language ( language_code = None ) : if not language_code : language_code = settings . LANGUAGE_CODE languages = dict ( settings . CMS_LANGUAGES ) . keys ( ) if language_code in languages : return language_code language_code = language_code . split ( "-" ) [ 0 ] if not language_code in languages : return settings . LANGUAGE_CODE return language_code def get_fallback_languages ( language ) : conf = settings . CMS_LANGUAGE_CONF if language in conf : l_list = conf [ language ] else : languages = settings . CMS_LANGUAGES l_list = [ ] for l in languages : l_list . append ( l [ 0 ] ) if language in l_list : l_list . remove ( language ) return l_list

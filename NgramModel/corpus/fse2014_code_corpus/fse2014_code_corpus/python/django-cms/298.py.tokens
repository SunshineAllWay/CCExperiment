from django . conf import settings from patch import pre_patch , post_patch , post_patch_check def patch_settings ( ) : if patch_settings . ALREADY_PATCHED : return patch_settings . ALREADY_PATCHED = True from cms . conf import global_settings pre_patch ( ) for attr in dir ( global_settings ) : if attr == attr . upper ( ) and not hasattr ( settings , attr ) : setattr ( settings . _wrapped , attr , getattr ( global_settings , attr ) ) post_patch ( ) if settings . DEBUG : post_patch_check ( )

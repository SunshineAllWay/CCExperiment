def Enum ( field , enum , key_func = None ) : display = field . createDisplay if key_func : def createDisplay ( ) : try : key = key_func ( field . value ) return enum [ key ] except LookupError : return display ( ) else : def createDisplay ( ) : try : return enum [ field . value ] except LookupError : return display ( ) field . createDisplay = createDisplay field . getEnum = lambda : enum return field

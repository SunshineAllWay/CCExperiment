import socket FACILITY = { : 0 , 'user' : 1 , 'mail' : 2 , 'daemon' : 3 , : 4 , 'syslog' : 5 , 'lpr' : 6 , 'news' : 7 , : 8 , 'cron' : 9 , 'authpriv' : 10 , 'ftp' : 11 , : 16 , 'local1' : 17 , 'local2' : 18 , 'local3' : 19 , : 20 , 'local5' : 21 , 'local6' : 22 , 'local7' : 23 , } LEVEL = { : 0 , 'alert' : 1 , 'crit' : 2 , 'err' : 3 , : 4 , 'notice' : 5 , 'info' : 6 , 'debug' : 7 } def syslog ( message , level = LEVEL [ 'notice' ] , facility = FACILITY [ 'daemon' ] , host = 'localhost' , port = 514 ) : sock = socket . socket ( socket . AF_INET , socket . SOCK_DGRAM ) data = '<%d>%s' % ( level + facility * 8 , message ) sock . sendto ( data , ( host , port ) )

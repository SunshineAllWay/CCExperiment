from r2 . lib . jsontemplates import api_type extension_mapping = { : ( "xml" , "text/xml; charset=UTF-8" ) , : ( "xml" , "text/xml; charset=UTF-8" ) , : ( "js" , "text/javascript; charset=UTF-8" ) , : ( "wired" , "text/javascript; charset=UTF-8" ) , : ( "htmllite" , "text/javascript; charset=UTF-8" ) , : ( "mobile" , "text/html; charset=UTF-8" ) , : ( "png" , "image/png" ) , : ( "css" , "text/css" ) , : ( "csv" , "text/csv; charset=UTF-8" ) , : ( api_type ( ) , "application/json; charset=UTF-8" ) , : ( api_type ( "html" ) , "application/json; charset=UTF-8" ) , : ( api_type ( "compact" ) , "application/json; charset=UTF-8" ) , : ( "compact" , "text/html; charset=UTF-8" ) , : ( api_type ( ) , "application/json; charset=UTF-8" ) , : ( "compact" , "text/html; charset=UTF-8" ) , } def set_extension ( environ , ext ) : environ [ "extension" ] = ext environ [ "render_style" ] , environ [ "content_type" ] = extension_mapping [ ext ]

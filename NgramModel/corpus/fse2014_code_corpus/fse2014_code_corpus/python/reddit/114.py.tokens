from utils import Wrapped , storify def t1 ( ) : w = Wrapped ( foo = 1 , bar = 2 ) assert ( w . foo == 1 ) assert ( w . bar == 2 ) class Foo ( Wrapped ) : defaults = dict ( foo = 1 , bar = 3 ) def t2 ( ) : f = Foo ( bar = 2 ) assert ( f . foo == 1 ) assert ( f . bar == 2 ) l1 = storify ( { 'bar' : 1 } ) l2 = storify ( { 'bar' : 2 , 'baz' : 3 } ) def t3 ( ) : f = Foo ( l1 , l2 , ok = 1 ) assert ( f . bar == 1 ) assert ( f . baz == 3 ) assert ( f . ok == 1 ) def t4 ( ) : x = Wrapped ( Foo ( ) ) assert ( x . foo == 1 ) assert ( x . bar == 3 ) t1 ( ) t2 ( ) t3 ( ) t4 ( )

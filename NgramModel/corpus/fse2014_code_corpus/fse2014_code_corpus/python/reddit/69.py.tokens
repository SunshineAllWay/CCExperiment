from pylons import request , g from reddit_base import RedditController from r2 . lib . pages import AdminPage , AdminAds , AdminAdAssign , AdminAdSRs from validator import * class AdsController ( RedditController ) : @ validate ( VSponsorAdmin ( ) ) def GET_index ( self ) : res = AdminPage ( content = AdminAds ( ) , show_sidebar = False , title = 'ads' ) . render ( ) return res @ validate ( VSponsorAdmin ( ) , ad = VAdByCodename ( 'adcn' ) ) def GET_assign ( self , ad ) : if ad is None : abort ( 404 , 'page not found' ) res = AdminPage ( content = AdminAdAssign ( ad ) , show_sidebar = False , title = 'assign an ad to a community' ) . render ( ) return res @ validate ( VSponsorAdmin ( ) , ad = VAdByCodename ( 'adcn' ) ) def GET_srs ( self , ad ) : if ad is None : abort ( 404 , 'page not found' ) res = AdminPage ( content = AdminAdSRs ( ad ) , show_sidebar = False , title = 'ad srs' ) . render ( ) return res
